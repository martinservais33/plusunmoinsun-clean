:root{
  --bg:#0b1220;
  --card:#111827;
  --text:#e5e7eb;
  --muted:#94a3b8;
  --border:#1f2937;
  --primary:#3b82f6;
  --accent:#22c55e;
  --danger:#ef4444;
  --chip:#0f172a;
  --paper-bg:#ffffff;
  --paper-text:#0f172a;
}

*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  font-family: ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,Inter,Arial;
  background: var(--bg);
  color: var(--text);
}

/* Topbar */
.topbar{
  position:sticky; top:0; z-index:10;
  display:flex; align-items:center; justify-content:space-between;
  padding:10px 16px; background:rgba(11,18,32,.85); backdrop-filter: blur(8px);
  border-bottom:1px solid var(--border);
}
.topbar__left{display:flex; gap:10px; align-items:center}
.logo{font-weight:700; letter-spacing:.5px;}
.me-label{font-size:14px; color:var(--muted);}
.topbar__right{display:flex; align-items:center; gap:8px}

/* Layout */
.container{max-width:960px; margin:18px auto; padding:0 16px}
.card{
  background: var(--card);
  border:1px solid var(--border);
  border-radius:16px;
  padding:16px;
  box-shadow: 0 10px 30px rgba(0,0,0,.25);
  margin-bottom:16px;
}
.section-header{display:flex; align-items:center; justify-content:space-between}

/* Typography */
h1,h2,h3{margin:0 0 8px 0}
h2{font-size:20px}
h3{font-size:16px}
.muted{color:var(--muted); font-size:13px}

/* Inputs */
.input, .textarea{
  width:100%; padding:10px 12px; border-radius:12px; border:1px solid var(--border);
  background:#0b1020; color: var(--text); outline:none;
}
.input:focus, .textarea:focus{border-color:#334155}
.label{font-size:14px; color:var(--muted); margin-bottom:6px; display:block}

/* Buttons */
.btn{
  appearance:none; border:1px solid var(--border); background:#182235;
  color:var(--text); padding:10px 14px; border-radius:12px; cursor:pointer;
  transition: transform .04s ease, background .2s ease;
}
.btn:hover{background:#1c2940}
.btn:active{transform: translateY(1px)}
.btn[disabled]{opacity:.6; cursor:default}
.btn--primary{background: var(--primary); border-color: var(--primary)}
.btn--accent{background: var(--accent); border-color: var(--accent); color:#06240e}
.btn--ghost{background:transparent}

.row{display:flex; gap:8px; align-items:center; flex-wrap:wrap; margin:8px 0}
.row--buttons .btn{flex:1}

/* Chips */
.chips-grid{display:grid; grid-template-columns: repeat(auto-fill, minmax(120px,1fr)); gap:8px; margin-top:10px}
.chips-row{display:flex; gap:8px; overflow:auto; padding-bottom:6px}
.chip{
  background: var(--chip); border:1px solid var(--border); color: var(--text);
  padding:10px 12px; border-radius:999px; display:flex; align-items:center; gap:8px;
  cursor:pointer; white-space:nowrap;
}
.chip:hover{background:#14203a}
.chip--active{outline:2px solid var(--primary)}
.chip__avatar{
  width:24px; height:24px; border-radius:50%; display:inline-flex; align-items:center; justify-content:center;
  background:#25324a; font-size:12px;
}
.chip--muted{background:#0f172a; color:var(--muted); border-color:#0f172a}

/* Toggle +1/-1 */
.type-toggle{gap:6px}
.toggle{
  flex:1;
  border:1px solid var(--border); background:#182235; color:var(--text);
  padding:10px 12px; border-radius:12px; cursor:pointer;
}
.toggle.active{outline:2px solid var(--accent); background:#12301d}

/* Papers (fond blanc) */
.papers{display:grid; grid-template-columns:1fr; gap:10px}
.paper{
  background: var(--paper-bg); color: var(--paper-text);
  border-radius:14px; border:1px solid #e5e7eb;
  padding:12px 14px;
}
.paper--empty{
  background:transparent; color:var(--muted); border:1px dashed var(--border);
}
.paper__meta{display:flex; align-items:center; gap:8px; margin-bottom:6px}
.badge{display:inline-block; font-size:12px; padding:2px 8px; border-radius:999px; font-weight:600}
.badge.plus{background:#d1fae5; color:#065f46}
.badge.moins{background:#fee2e2; color:#7f1d1d}
.paper__target{font-size:13px; color:#374151}

/* Toasts */
.toasts{ position:fixed; top:10px; left:0; right:0; display:flex; flex-direction:column; align-items:center; gap:8px; z-index:50; }
.toast{
  background:#111827; color:#e5e7eb; border:1px solid #243246; padding:10px 14px; border-radius:12px;
  box-shadow: 0 10px 30px rgba(0,0,0,.35); min-width:260px; max-width:90%;
}
.toast--ok{border-color:#1b5e2e}
.toast--err{border-color:#7f1d1d}
